{% extends 'base.html' %}
{% block content %}

<div class="container pt-4">
   <div class="row">
      <div class="col-lg-4 shadow mx-auto p-0 mt-5">
         <div class="alert alert-info">
             <h2>Add New To-Do</h2>
         </div>
         <div class="p-4">
             <form action="" method="post">
                 {% csrf_token %}
                 {{ form.as_p }}
                 <br>
                 <input class="btn btn-info" type="submit" value="Add">
             </form>
         </div>
     </div>
      <div class="col ml-5">
         <div class="border">
         {% if todos|length == 0 %}
            <div class="alert alert-info text-center">
               <p class="display-4">
                  No Todos
               </p>
            </div>
         {% else %}
            <div>
               <table class="table">
                  <tr>
                     <th>S. No</th>
                     <th>Title</th>
                     <th>Priority</th>
                     <th>Status</th>
                     <th>Remove</th>
                  </tr>
                  {% for todo in todos %}
                  <tr>
                     <td>{{ forloop.counter }}</td>
                     <td>{{ todo.title }}</td>
                     <td>{{ todo.priority }}</td>
                     <td>{{ todo.status }}</td>
                     <td><a class="btn btn-danger" href="{% url 'delete_todo' todo.id %}">Remove</a></td>
                  </tr>
                  {% endfor %}
               </table>
            </div>
         </div>
         {% endif %}
      </div>     
   </div>
</div>
{% endblock %}